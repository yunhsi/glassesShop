import{r as b,w as V,x as E,ba as k,U as C,V as a,ap as s,X as o,Y as S,aN as w,ac as p,bi as D,a8 as u,T as U,ae as c}from"./vendor-CeIIztvN.js";import{C as q}from"./CheckoutSteps-CvxxgUDE.js";import{O as I}from"./OrderInfo-CJeGTnD9.js";import{u as M,d as O}from"./index-DrLUoZcZ.js";import"./pinia-f5aTiCRI.js";import"./axios-DWwaMX5J.js";import"./primevue-Bzk5oe3L.js";import"./vee-validate-DTWiMbKr.js";const F={style:{"padding-top":"70px","min-height":"calc(100vh - 104px)"},"data-aos":"fade-zoom-in","data-aos-easing":"ease-in-sine","data-aos-duration":"300","data-aos-delay":"300"},N={class:"container pt-4 pb-5"},T={class:"row flex-row-reverse justify-content-center pt-4"},h={class:"col-lg-5 col-md-6"},A={class:"col-lg-7 col-md-6"},B={class:"col-md-6"},j={class:"col-md-6"},z={class:"col-12"},R={class:"col-12"},G={class:"col-12"},H={class:"col-12 d-flex justify-content-between align-items-center"},ee={__name:"Step2",setup(W){const n=M(),f=O(),r=b(),v=D(),l=b({user:{name:"",tel:"",address:"",email:"",payment:""}}),g=async()=>{await f.createOrder(l.value),v.push(`/order/${f.orderId}`),localStorage.setItem("isGetCoupon",!1),n.getCarts()};return V(r,()=>{r.value.carts.length||v.push("/cart")}),V(n,()=>{r.value=n.carsData}),E(()=>{r.value=n.carsData}),k({title:"建立訂單｜!WEAR"}),(X,e)=>{const d=u("VField"),i=u("ErrorMessage"),x=u("VIcon"),_=u("router-link"),y=u("VForm");return U(),C("main",F,[a("div",N,[s(q,{step:"2"}),a("div",T,[a("div",h,[s(I,{title:"訂單資訊",cart:r.value},null,8,["cart"]),o(" "+S(w(n).cartsData),1)]),a("div",A,[s(y,{class:"row g-3 pt-4 pt-md-0 small",onSubmit:g},{default:p(({errors:m})=>[a("div",B,[e[5]||(e[5]=a("label",{for:"name",class:"form-label"},[o(" 收件人姓名 "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"name",modelValue:l.value.user.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.user.name=t),type:"text",name:"姓名",placeholder:"請輸入收件人姓名",class:c(["form-control",{"is-invalid":m.姓名}]),rules:"required|onlyChinese"},null,8,["modelValue","class"]),s(i,{name:"姓名",class:"invalid-feedback"})]),a("div",j,[e[6]||(e[6]=a("label",{for:"tel",class:"form-label"},[o(" 收件人電話 "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"tel",modelValue:l.value.user.tel,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.user.tel=t),type:"tel",name:"電話",placeholder:"請輸入收件人電話",class:c(["form-control",{"is-invalid":m.電話}]),rules:"required|numeric|min:10|max:10"},null,8,["modelValue","class"]),s(i,{name:"電話",class:"invalid-feedback"})]),a("div",z,[e[7]||(e[7]=a("label",{for:"address",class:"form-label"},[o(" 收件人地址 "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"address",modelValue:l.value.user.address,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.user.address=t),type:"text",name:"地址",placeholder:"請輸入收件人地址",class:c(["form-control",{"is-invalid":m.地址}]),rules:"required"},null,8,["modelValue","class"]),s(i,{name:"地址",class:"invalid-feedback"})]),a("div",R,[e[8]||(e[8]=a("label",{for:"Email",class:"form-label"},[o(" Email (請填寫常用信箱以追蹤出貨狀態) "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"Email",modelValue:l.value.user.email,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.user.email=t),type:"email",name:"Email",placeholder:"請輸入 Email",class:c(["form-control",{"is-invalid":m.Email}]),rules:"required|email"},null,8,["modelValue","class"]),s(i,{name:"Email",class:"invalid-feedback"})]),a("div",G,[e[10]||(e[10]=a("label",{for:"payment",class:"form-label"},[o(" 付款方式 "),a("span",{class:"text-danger"},"*")],-1)),s(d,{id:"payment",modelValue:l.value.user.payment,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.user.payment=t),as:"select",name:"付款方式",placeholder:"請輸入付款方式",class:c(["form-select",{"is-invalid":m.付款方式}]),rules:"required"},{default:p(()=>e[9]||(e[9]=[a("option",{value:"",selected:"",disabled:""},"選擇付款方式",-1),a("option",{value:"信用卡"},"信用卡",-1),a("option",{value:"貨到付款"},"貨到付款",-1),a("option",{value:"ATM 匯款"},"ATM 匯款",-1)])),_:2},1032,["modelValue","class"]),s(i,{name:"付款方式",class:"invalid-feedback"})]),a("div",H,[s(_,{to:"/cart",prefetch:""},{default:p(()=>[s(x,{icon:["fas","chevron-left"]}),e[11]||(e[11]=o(" 返回購物車 "))]),_:1}),e[12]||(e[12]=a("button",{type:"submit",class:"btn btn-danger px-3"},"建立訂單",-1))])]),_:1})])])])])}}};export{ee as default};
