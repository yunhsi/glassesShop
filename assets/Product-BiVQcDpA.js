import{r,w as A,a8 as i,T as p,ab as w,ac as x,ap as a,f as P,bb as N,x as R,U as k,V as t,af as V,Y as d,aW as S}from"./vendor-BUxCYPUO.js";import{u as D,P as T}from"./useProductStore-CPEptmAc.js";import{_ as G,u as $}from"./index-BX0knjW9.js";import{_ as E}from"./ProductCarousel-V9bJR0w-.js";import{B as H}from"./Breadcrumb-Deq_m_sY.js";import"./pinia-Do-HvM91.js";import"./axios-DWwaMX5J.js";import"./primevue--IhQ8n2h.js";import"./vee-validate-B-F8cbDQ.js";const M={__name:"Counter",props:{count:Number},emits:["addCount","reduceCount"],setup(I,{emit:m}){const l=I,_=m,n=r(l.count);A(()=>l.count,g=>{n.value=g});const v=()=>{_("reduceCount",n.value)},u=()=>{_("addCount",n.value)};return(g,f)=>{const b=i("VButton"),c=i("VInputGroupAddon"),o=i("VInputNumber"),y=i("VInputGroup");return p(),w(y,null,{default:x(()=>[a(c,null,{default:x(()=>[a(b,{label:"-",disabled:n.value==1,severity:"secondary",onClick:v},null,8,["disabled"])]),_:1}),a(o,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=C=>n.value=C),class:"counterInput",readonly:""},null,8,["modelValue"]),a(c,null,{default:x(()=>[a(b,{label:"+",severity:"secondary",onClick:u})]),_:1})]),_:1})}}},U={style:{"padding-top":"70px","min-height":"calc(100vh - 104px)"}},W={class:"container pt-4"},j={class:"row"},z={class:"col-12"},L={key:0,class:"row pb-5 pt-3","data-aos":"fade-zoom-in","data-aos-easing":"ease-in-sine","data-aos-duration":"300"},O={class:"col-md-6 px-lg-5 d-flex align-items-end"},Y={class:"position-relative w-100"},q=["src"],F={class:"d-flex gap-1 p-1 justify-content-end position-absolute start-0 end-0 top-0"},J={class:"col-md-6 pe-lg-5 d-flex align-items-end info"},K={class:"w-100"},Q={class:"fw-light"},X={class:"fw-normal py-1"},Z={class:"border-bottom border-danger pb-3"},tt={class:"p-2 my-3"},ot={class:"list-unstyled small m-0"},et={class:"row"},st={class:"col-lg-6"},at={class:"col-lg-6 pt-3 pt-lg-0"},nt={class:"d-grid gap-2"},lt={class:"row px-3 my-5"},ut={__name:"Product",setup(I){const m=S(),l=D(),_=$(),n=P(()=>m.params.productId),v=r([{label:"全部商品",route:"/products"},{label:""}]);N({title:"商品資訊｜!WEAR"});const u=r(1),g=()=>{u.value>1&&(u.value-=1)},f=()=>{u.value+=1},b=async(s,e=1)=>{const h={product_id:s,qty:e};await _.postCart(h)},c=r([]),o=r(),y=async()=>{await l.getProduct(n.value),await l.getAllProducts(),o.value=l.productData,C(),v.value[1].label=o.value.title},C=()=>{c.value=l.allProductsData.filter(s=>s.category===o.value.category&&s.description===o.value.description&&s.content===o.value.content&&s.id!==o.value.id)};R(y),A(()=>m.params.productId,y);const B=P(()=>{const s=(o.value.price/o.value.origin_price-1)*100;return Math.round(s)});return(s,e)=>{const h=i("VTag");return p(),k("main",U,[t("div",W,[t("div",j,[t("div",z,[a(H,{items:v.value},null,8,["items"])])]),o.value?(p(),k("div",L,[t("div",O,[t("div",Y,[t("img",{src:o.value.image,alt:"",class:"rounded custom-shadow"},null,8,q),t("div",F,[o.value.unit?(p(),w(h,{key:0,severity:"danger",value:"HOT"})):V("",!0),o.value.price!=o.value.origin_price?(p(),w(h,{key:1,severity:"warn",value:`SALE ${B.value}%`},null,8,["value"])):V("",!0)])])]),t("div",J,[t("div",K,[t("small",Q,d(o.value.id),1),t("h4",X,d(o.value.title),1),t("h5",Z,[a(T,{product:o.value},null,8,["product"])]),t("div",tt,[e[2]||(e[2]=t("p",{class:"mb-2"},"商品規格",-1)),t("ul",ot,[t("li",null,"- 類型： "+d(o.value.category),1),t("li",null,"- 框型： "+d(o.value.description),1),t("li",null,"- 材質： "+d(o.value.content),1),e[1]||(e[1]=t("li",null,"- 尺寸： 53 □ 20 - 146 ○ 48",-1))])]),t("div",et,[t("div",st,[a(M,{count:u.value,onReduceCount:g,onAddCount:f},null,8,["count"])]),t("div",at,[t("div",nt,[t("button",{class:"btn btn-danger",style:{"padding-top":"10px","padding-bottom":"10px"},type:"button",onClick:e[0]||(e[0]=ct=>b(o.value.id,u.value))}," 加入購物車 ")])])])])])])):V("",!0),e[4]||(e[4]=t("hr",null,null,-1)),t("div",lt,[e[3]||(e[3]=t("h3",{class:"px-4 pt-4",style:{"letter-spacing":"1px"}},"你可能也喜歡",-1)),a(E,{products:c.value,isloop:!1},null,8,["products"])])])])}}},bt=G(ut,[["__scopeId","data-v-2f3afb8c"]]);export{bt as default};
