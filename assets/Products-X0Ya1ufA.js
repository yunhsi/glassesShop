import{r as t,w as I,f as q,bb as j,x as z,U as h,V as l,ap as a,ac as n,ab as D,af as J,aa as N,aI as U,am as K,an as Q,aW as X,a8 as i,T as y}from"./vendor-BUxCYPUO.js";import{u as Y,_ as Z}from"./useProductStore-CPEptmAc.js";import{N as ee}from"./NoData-Cal1SNPL.js";import{B as le}from"./Breadcrumb-Deq_m_sY.js";import"./index-BX0knjW9.js";import"./pinia-Do-HvM91.js";import"./axios-DWwaMX5J.js";import"./primevue--IhQ8n2h.js";import"./vee-validate-B-F8cbDQ.js";const ae={style:{"padding-top":"70px","min-height":"calc(100vh - 104px)"}},oe={class:"container pt-4"},te={class:"row"},se={class:"col-12"},ne={class:"row"},ue={class:"col-md-6 pt-sm-3"},re={class:"col-md-3 pt-3"},ie={class:"col-md-3 pt-3"},de={key:0,class:"row"},ce={class:"col-md-3 pt-3"},pe={class:"col-md-3 pt-3"},ve={class:"col-md-3 pt-3"},me={class:"col-md-3 pt-3"},fe={class:"row g-2 g-md-4 pb-5 mb-4"},Be={__name:"Products",setup(_e){const u=X(),d=Y(),k=t(!1),V=t(),c=t(),G=t([{name:"價格（由高至低）",id:"1"},{name:"價格（由低至高）",id:"2"}]),p=t(),S=t([{name:"黑",id:"black"},{name:"棕",id:"brown"},{name:"銀",id:"silver"},{name:"金",id:"golden"},{name:"透明",id:"transparent"}]),v=t(),A=t([{name:"輕量樹脂"},{name:"鈦合金"}]),m=t(),L=t([{name:"圓框"},{name:"方型"},{name:"波士頓"},{name:"威靈頓"}]),r=t(),$=t([{name:"1000 ~ 2000",min:"1000",max:"2000"},{name:"2000 ~ 3000",min:"2000",max:"3000"},{name:"3000 ~ 4000",min:"3000",max:"4000"},{name:"4000 ~ 5000",min:"4000",max:"5000"},{name:"5000 ~ 6000",min:"5000",max:"6000"}]),f=t(),_=t(0);[p,v,m,r].forEach(s=>I(s,(e,x)=>{!x&&e&&(_.value=_.value+1),!e&&x&&(_.value=_.value-1)}));const E={glasses:"光學眼鏡",sunglasses:"太陽眼鏡"},F={hot:"熱門推薦",onsale:"優惠活動"},P=q(()=>[{label:F[u.query.event]||E[u.query.category]||"全部商品"}]);j({title:`${P.value[0].label}｜!WEAR`});const b=t([]),M=async()=>{await d.getAllProducts(),B(),k.value=!0},B=()=>{if(!u.query.category&&!u.query.event){b.value=d.allProductsData;return}switch(u.query.category){case"glasses":b.value=d.glassesProducts;break;case"sunglasses":b.value=d.sunGlassesProducts;break}switch(u.query.event){case"hot":b.value=d.recommendationProducts;break;case"onsale":b.value=d.saleProducts;break}};z(M);const T=q(()=>b.value.filter(s=>!(V.value&&!s.title.toLowerCase().includes(V.value.toLowerCase())||p.value&&s.title.split(" ")[0]!==p.value.id||v.value&&s.content!==v.value.name||m.value&&s.description!==m.value.name||r.value&&(s.price<r.value.min||s.price>r.value.max))).sort((s,e)=>c.value?c.value.id==="2"?s.price-e.price:c.value.id==="1"?e.price-s.price:0:0)),O=()=>{V.value=null,c.value=null,p.value=null,v.value=null,m.value=null,r.value=null,f.value=!1};return I(()=>u.query,()=>{O(),B()}),(s,e)=>{const x=i("VInputGroupAddon"),R=i("VInputText"),W=i("VInputGroup"),w=i("VSelect"),g=i("VFloatLabel"),C=i("VButton"),H=i("VOverlayBadge");return y(),h("main",ae,[l("div",oe,[l("div",te,[l("div",se,[a(le,{items:P.value},null,8,["items"])])]),l("div",ne,[l("div",ue,[a(W,null,{default:n(()=>[a(x,null,{default:n(()=>e[8]||(e[8]=[l("i",{class:"pi pi-search"},null,-1)])),_:1}),a(R,{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=o=>V.value=o),placeholder:"商品名稱"},null,8,["modelValue"])]),_:1})]),l("div",re,[a(g,{class:"w-100",variant:"on"},{default:n(()=>[a(w,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),"input-id":"sort_label",options:G.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[9]||(e[9]=l("label",{for:"sort_label"},"排序方式",-1))]),_:1})]),l("div",ie,[_.value?(y(),D(H,{key:0,value:_.value,severity:"danger"},{default:n(()=>[a(C,{icon:"pi pi-sliders-h",label:"進階篩選",severity:"secondary",variant:"outlined",class:"w-100",onClick:e[2]||(e[2]=o=>f.value=!f.value)})]),_:1},8,["value"])):(y(),D(C,{key:1,icon:"pi pi-sliders-h",label:"進階篩選",severity:"secondary",variant:"outlined",class:"w-100",onClick:e[3]||(e[3]=o=>f.value=!f.value)}))])]),f.value?(y(),h("div",de,[l("div",ce,[a(g,{class:"w-100",variant:"on"},{default:n(()=>[a(w,{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=o=>p.value=o),"input-id":"color_label",options:S.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[10]||(e[10]=l("label",{for:"color_label"},"鏡框顏色",-1))]),_:1})]),l("div",pe,[a(g,{class:"w-100",variant:"on"},{default:n(()=>[a(w,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=o=>v.value=o),"input-id":"material_label",options:A.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[11]||(e[11]=l("label",{for:"material_label"},"鏡框材質",-1))]),_:1})]),l("div",ve,[a(g,{class:"w-100",variant:"on"},{default:n(()=>[a(w,{modelValue:m.value,"onUpdate:modelValue":e[6]||(e[6]=o=>m.value=o),"input-id":"shape_label",options:L.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[12]||(e[12]=l("label",{for:"shape_label"},"框形",-1))]),_:1})]),l("div",me,[a(g,{class:"w-100",variant:"on"},{default:n(()=>[a(w,{modelValue:r.value,"onUpdate:modelValue":e[7]||(e[7]=o=>r.value=o),"input-id":"price_label",options:$.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[13]||(e[13]=l("label",{for:"price_label"},"價格",-1))]),_:1})])])):J("",!0),N(l("div",fe,[(y(!0),h(K,null,Q(T.value,o=>(y(),h("div",{key:o.id,class:"col-12 col-md-6 col-lg-4 col-xl-3"},[a(Z,{product:o,"root-class":"mx-0"},null,8,["product"])]))),128))],512),[[U,k.value&&T.value.length]]),N(a(ee,null,null,512),[[U,k.value&&!T.value.length]])])])}}};export{Be as default};
