import{r as t,w as q,f as P,ba as H,x as j,U as h,V as a,ap as l,ac as n,ab as D,af as J,aa as N,aI as U,am as K,an as Q,aW as X,a8 as i,T as b}from"./vendor-CeIIztvN.js";import{u as Y,_ as Z}from"./useProductStore-DIBQQ6sn.js";import{N as ee}from"./NoData-DzATwRWC.js";import{B as ae}from"./Breadcrumb-C6s0ZYuy.js";import"./index-DrLUoZcZ.js";import"./pinia-f5aTiCRI.js";import"./axios-DWwaMX5J.js";import"./primevue-Bzk5oe3L.js";import"./vee-validate-DTWiMbKr.js";const le={style:{"padding-top":"70px","min-height":"calc(100vh - 104px)"},"data-aos":"fade-zoom-in","data-aos-easing":"ease-in-sine","data-aos-duration":"300","data-aos-delay":"300"},oe={class:"container pt-4"},te={class:"row"},se={class:"col-12"},ne={class:"row"},ue={class:"col-md-6 pt-sm-3"},re={class:"col-md-3 pt-3"},ie={class:"col-md-3 pt-3"},de={key:0,class:"row"},ce={class:"col-md-3 pt-3"},pe={class:"col-md-3 pt-3"},ve={class:"col-md-3 pt-3"},me={class:"col-md-3 pt-3"},fe={class:"row g-2 g-md-4 pb-5 mb-4"},Be={__name:"Products",setup(_e){const u=X(),d=Y(),k=t(!1),V=t(),c=t(),G=t([{name:"價格（由高至低）",id:"1"},{name:"價格（由低至高）",id:"2"}]),p=t(),S=t([{name:"黑",id:"black"},{name:"棕",id:"brown"},{name:"銀",id:"silver"},{name:"金",id:"golden"},{name:"透明",id:"transparent"}]),v=t(),A=t([{name:"輕量樹脂"},{name:"鈦合金"}]),m=t(),L=t([{name:"圓框"},{name:"方型"},{name:"波士頓"},{name:"威靈頓"}]),r=t(),$=t([{name:"1000 ~ 2000",min:"1000",max:"2000"},{name:"2000 ~ 3000",min:"2000",max:"3000"},{name:"3000 ~ 4000",min:"3000",max:"4000"},{name:"4000 ~ 5000",min:"4000",max:"5000"},{name:"5000 ~ 6000",min:"5000",max:"6000"}]),f=t(),_=t(0);[p,v,m,r].forEach(s=>q(s,(e,x)=>{!x&&e&&(_.value=_.value+1),!e&&x&&(_.value=_.value-1)}));const E={glasses:"光學眼鏡",sunglasses:"太陽眼鏡"},F={hot:"熱門推薦",onsale:"優惠活動"},B=P(()=>[{label:F[u.query.event]||E[u.query.category]||"全部商品"}]);H({title:P(()=>`${B.value[0].label}｜!WEAR`)});const y=t([]),M=async()=>{await d.getAllProducts(),C(),k.value=!0},C=()=>{if(!u.query.category&&!u.query.event){y.value=d.allProductsData;return}switch(u.query.category){case"glasses":y.value=d.glassesProducts;break;case"sunglasses":y.value=d.sunGlassesProducts;break}switch(u.query.event){case"hot":y.value=d.recommendationProducts;break;case"onsale":y.value=d.saleProducts;break}};j(M);const T=P(()=>y.value.filter(s=>!(V.value&&!s.title.toLowerCase().includes(V.value.toLowerCase())||p.value&&s.title.split(" ")[0]!==p.value.id||v.value&&s.content!==v.value.name||m.value&&s.description!==m.value.name||r.value&&(s.price<r.value.min||s.price>r.value.max))).sort((s,e)=>c.value?c.value.id==="2"?s.price-e.price:c.value.id==="1"?e.price-s.price:0:0)),O=()=>{V.value=null,c.value=null,p.value=null,v.value=null,m.value=null,r.value=null,f.value=!1};return q(()=>u.query,()=>{O(),C()}),(s,e)=>{const x=i("VInputGroupAddon"),R=i("VInputText"),W=i("VInputGroup"),w=i("VSelect"),g=i("VFloatLabel"),I=i("VButton"),z=i("VOverlayBadge");return b(),h("main",le,[a("div",oe,[a("div",te,[a("div",se,[l(ae,{items:B.value},null,8,["items"])])]),a("div",ne,[a("div",ue,[l(W,null,{default:n(()=>[l(x,null,{default:n(()=>e[8]||(e[8]=[a("i",{class:"pi pi-search"},null,-1)])),_:1}),l(R,{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=o=>V.value=o),placeholder:"商品名稱"},null,8,["modelValue"])]),_:1})]),a("div",re,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),"input-id":"sort_label",options:G.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[9]||(e[9]=a("label",{for:"sort_label"},"排序方式",-1))]),_:1})]),a("div",ie,[_.value?(b(),D(z,{key:0,value:_.value,severity:"danger"},{default:n(()=>[l(I,{icon:"pi pi-sliders-h",label:"進階篩選",severity:"secondary",variant:"outlined",class:"w-100",onClick:e[2]||(e[2]=o=>f.value=!f.value)})]),_:1},8,["value"])):(b(),D(I,{key:1,icon:"pi pi-sliders-h",label:"進階篩選",severity:"secondary",variant:"outlined",class:"w-100",onClick:e[3]||(e[3]=o=>f.value=!f.value)}))])]),f.value?(b(),h("div",de,[a("div",ce,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=o=>p.value=o),"input-id":"color_label",options:S.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[10]||(e[10]=a("label",{for:"color_label"},"鏡框顏色",-1))]),_:1})]),a("div",pe,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=o=>v.value=o),"input-id":"material_label",options:A.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[11]||(e[11]=a("label",{for:"material_label"},"鏡框材質",-1))]),_:1})]),a("div",ve,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:m.value,"onUpdate:modelValue":e[6]||(e[6]=o=>m.value=o),"input-id":"shape_label",options:L.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[12]||(e[12]=a("label",{for:"shape_label"},"框形",-1))]),_:1})]),a("div",me,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:r.value,"onUpdate:modelValue":e[7]||(e[7]=o=>r.value=o),"input-id":"price_label",options:$.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[13]||(e[13]=a("label",{for:"price_label"},"價格",-1))]),_:1})])])):J("",!0),N(a("div",fe,[(b(!0),h(K,null,Q(T.value,o=>(b(),h("div",{key:o.id,class:"col-12 col-md-6 col-lg-4 col-xl-3"},[l(Z,{product:o,"root-class":"mx-0"},null,8,["product"])]))),128))],512),[[U,k.value&&T.value.length]]),N(l(ee,null,null,512),[[U,k.value&&!T.value.length]])])])}}};export{Be as default};
