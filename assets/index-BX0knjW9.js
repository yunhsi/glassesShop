const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-C2gAnQ9v.js","assets/vendor-BUxCYPUO.js","assets/vendor-CpyXZHaA.css","assets/ProductCarousel-V9bJR0w-.js","assets/useProductStore-CPEptmAc.js","assets/pinia-Do-HvM91.js","assets/useProductStore-qyhGPBQH.css","assets/axios-DWwaMX5J.js","assets/primevue--IhQ8n2h.js","assets/vee-validate-B-F8cbDQ.js","assets/Home-Zh0YUXG3.css","assets/Products-X0Ya1ufA.js","assets/NoData-Cal1SNPL.js","assets/NoData-9git3qCH.css","assets/Breadcrumb-Deq_m_sY.js","assets/Breadcrumb-CgL3dDJU.css","assets/Product-BiVQcDpA.js","assets/Product-CkApXYj7.css","assets/Notes-Ct5Ilm0r.js","assets/Step1-DqQMPIzq.js","assets/CheckoutSteps-bjcjEBoh.js","assets/CheckoutSteps-l7tcBWc_.css","assets/Step1-C7Y8keH_.css","assets/Step2-VmYcmb9f.js","assets/OrderInfo-CuYW77JF.js","assets/OrderInfo-Cb_GZHuF.css","assets/Step3-BAqpY_mc.js","assets/PaymentInfo-5aHZR9ko.js","assets/PaymentInfo-1g6r80vC.css","assets/Step4-BE9UQkdJ.js","assets/Orders-Cx67_W1B.js","assets/Orders--aPN7CKl.css"])))=>i.map(i=>d[i]);
import{aS as re,aT as ne,r as p,aQ as ae,aU as w,f as Y,x as K,aV as X,w as z,a8 as m,T as d,U as h,ap as u,ac as _,X as S,ab as y,O as P,V as c,Y as x,aq as ce,ae as U,af as W,aW as ie,aa as le,aI as ue,aN as de,ad as me,aX as pe,am as fe,aY as _e,aZ as ge,a_ as he,a$ as ve,b0 as ye,b1 as be,b2 as Ve,b3 as we,b4 as Le,b5 as $e,b6 as ke,b7 as Ce,b8 as Se,b9 as Oe,ba as Ee}from"./vendor-BUxCYPUO.js";import{c as Ie,s as Te,d as A}from"./pinia-Do-HvM91.js";import{a as Pe}from"./axios-DWwaMX5J.js";import{u as xe,P as Ae,i as De,T as Me,s as Be,a as Re,b as qe,c as Fe,d as je,e as Ne,f as ze,g as Ue,h as We,j as Ge,k as He,l as Ye,m as Ke,n as Xe,o as Qe,p as Ze,q as Je,r as et,t as tt,v as ot}from"./primevue--IhQ8n2h.js";import{d as $,c as st,l as rt,s as nt,F as at,a as ct,E as it,z as lt,r as ut,e as dt,m as mt,b as pt,n as ft}from"./vee-validate-B-F8cbDQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const Q=Ie();Q.use(Te);const _t="modulepreload",gt=function(e){return"/glassesShop/"+e},G={},v=function(t,o,a){let n=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));n=Promise.allSettled(o.map(l=>{if(l=gt(l),l in G)return;G[l]=!0;const b=l.endsWith(".css"),k=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${k}`))return;const f=document.createElement("link");if(f.rel=b?"stylesheet":_t,b||(f.as="script"),f.crossOrigin="",f.href=l,i&&f.setAttribute("nonce",i),document.head.appendChild(f),b)return new Promise((D,M)=>{f.addEventListener("load",D),f.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return n.then(s=>{for(const i of s||[])i.status==="rejected"&&r(i.reason);return t().catch(r)})},ht=[{path:"/",name:"Home",component:()=>v(()=>import("./Home-C2gAnQ9v.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))},{path:"/products",name:"Products",component:()=>v(()=>import("./Products-X0Ya1ufA.js"),__vite__mapDeps([11,1,2,4,5,6,12,13,14,15,7,8,9])),props:e=>({event:e.query.event,category:e.query.category})},{path:"/product/:productId",name:"Product",component:()=>v(()=>import("./Product-BiVQcDpA.js"),__vite__mapDeps([16,1,2,4,5,6,3,14,15,7,8,9,17]))},{path:"/notes",name:"Notes",component:()=>v(()=>import("./Notes-Ct5Ilm0r.js"),__vite__mapDeps([18,14,1,2,15,5,7,8,9]))},{path:"/cart",name:"Step1",component:()=>v(()=>import("./Step1-DqQMPIzq.js"),__vite__mapDeps([19,20,1,2,21,5,7,8,9,22]))},{path:"/order",name:"Step2",component:()=>v(()=>import("./Step2-VmYcmb9f.js"),__vite__mapDeps([23,1,2,20,21,24,25,5,7,8,9]))},{path:"/order/:orderId",name:"Step3",component:()=>v(()=>import("./Step3-BAqpY_mc.js"),__vite__mapDeps([26,1,2,20,21,24,25,27,5,28,7,8,9]))},{path:"/checkout/:orderId",name:"Step4",component:()=>v(()=>import("./Step4-BE9UQkdJ.js"),__vite__mapDeps([29,1,2,20,21,24,25,27,5,28,7,8,9]))},{path:"/orders",name:"Orders",component:()=>v(()=>import("./Orders-Cx67_W1B.js"),__vite__mapDeps([30,1,2,27,5,28,12,13,14,15,7,8,9,31])),props:e=>({status:e.query.status})},{path:"/:catchAll(.*)",redirect:"/"}],Z=re({history:ne(),routes:ht,scrollBehavior(e,t,o){return o||{top:0}}});Z.beforeEach((e,t,o)=>{if(!e.meta.requiresAuth)return o()});const vt=A("useTheme",()=>{const e=p(!1);return ae(()=>{e.value?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode")}),{isDarkMode:e}},{persist:!0}),H={default:"https://vue-course-api.hexschool.io/api/yunhsi"},yt=(e="default")=>{const t=Pe.create({baseURL:H[e]||H.default,timeout:5e3,headers:{"Content-Type":"application/json"}});return t.interceptors.request.use(o=>{const a=localStorage.getItem("token");return a&&(o.headers.Authorization=`Bearer ${a}`),o},o=>Promise.reject(o)),t.interceptors.response.use(o=>o,o=>{var r,s;const a=o.response.status,n=((s=(r=o.response)==null?void 0:r.data)==null?void 0:s.message)||"請求失敗";return console.log(o),console.error(`API 錯誤 (狀態碼: ${a}):`,n),Promise.reject(o)}),t},L=yt(),q={async getCarts(){return L.get("/cart").then(e=>e.data.data)},async postCart(e){return L.post("/cart",{data:e}).then(t=>t.data)},async deleteCart(e){return L.delete(`/cart/${e}`).then(t=>t.data)}},j=A("useCommon",()=>{const e=xe();return{isLoading:p(!1),showMsg:(a,n)=>{e.add({severity:a,summary:"訊息提示",detail:n,life:1e3})}}}),bt=A("useCart",()=>{const e=j(),t=p(),o=async()=>{e.isLoading=!0;try{t.value=await q.getCarts()}catch(r){w.fire({icon:"error",title:`${r.message}`})}finally{e.isLoading=!1}};return{carsData:t,getCarts:o,postCart:async r=>{e.isLoading=!0;try{const s=await q.postCart(r);e.showMsg("success",s.message),await o()}catch(s){w.fire({icon:"error",title:`${s.message}`})}finally{e.isLoading=!1}},deleteCart:async r=>{e.isLoading=!0;try{const s=await q.deleteCart(r);e.showMsg("success",s.message),await o()}catch(s){w.fire({icon:"error",title:`${s.message}`})}finally{e.isLoading=!1}}}}),F={getOrders(e){return L.get(`/orders?page=${e}`).then(t=>t.data)},getOrder(e){return L.get(`/order/${e}`).then(t=>t.data)},createOrder(e){return L.post("/order",{data:e}).then(t=>t.data)}},Vt=A("useOrder",()=>{const e=j(),t=p(),o=p(),a=p();return{ordersData:t,orderData:o,orderId:a,getOrders:async i=>{e.isLoading=!0;try{t.value=await F.getOrders(i)}catch(l){w.fire({icon:"error",title:`${l.message}`})}finally{e.isLoading=!1}},getOrder:async i=>{e.isLoading=!0;try{const l=await F.getOrder(i);o.value=l.order}catch(l){w.fire({icon:"error",title:`${l.message}`})}finally{e.isLoading=!1}},createOrder:async i=>{e.isLoading=!0;try{const l=await F.createOrder(i);a.value=l.orderId}catch(l){w.fire({icon:"error",title:`${l.message}`})}finally{e.isLoading=!1}}}}),O=(e,t)=>{const o=e.__vccOpts||e;for(const[a,n]of t)o[a]=n;return o},wt={class:"d-flex align-items-center gap-2"},Lt=["href","onClick"],$t={class:"ml-2"},kt={key:0,class:"pi pi-sun"},Ct={key:1,class:"pi pi-moon"},St={__name:"NavBar",props:{rootClass:String},setup(e){const t=vt(),o=bt(),a=Vt(),n=Y(()=>t.isDarkMode?"淺色":"深色"),r=p(null),s=p([{label:"首頁",route:"/"},{label:"商品分類",items:[{label:"全部商品",route:"/products"},{label:"光學眼鏡",route:"/products?category=glasses"},{label:"太陽眼鏡",route:"/products?category=sunglasses"},{separator:!0},{label:"熱門推薦",route:"/products?event=hot"},{label:"優惠活動",route:"/products?event=onsale"}]},{label:"購物說明",route:"/notes"}]),i=p(),l=p([{label:"未完成的訂單",route:"/orders?status=0"},{label:"已完成的訂單",route:"/orders?status=1"},{separator:!0},{label:`切換${n.value}模式`}]),b=p(),k=p();K(()=>{window.addEventListener("scroll",f),o.getCarts(),a.getOrders(1)}),X(()=>{window.removeEventListener("scroll",f)});const f=()=>{window.scrollY>80?r.value.classList.add("scrolled"):r.value.classList.remove("scrolled"),i.value.target&&document.querySelector(".otherMenusBtn").click()};z(o,()=>{b.value=o.carsData.carts.length}),z(a,()=>{k.value=a.ordersData.orders.filter(E=>!E.is_paid).length});const D=E=>{i.value.toggle(E)},M=()=>{setTimeout(()=>{t.isDarkMode=!t.isDarkMode},100)};return(E,N)=>{const J=m("VIcon"),I=m("router-link"),B=m("VButton"),ee=m("VOverlayBadge"),te=m("VBadge"),oe=m("VMenu"),se=m("VMenubar");return d(),h("nav",{ref_key:"navDom",ref:r,class:U(["fixed-top",e.rootClass])},[u(se,{model:s.value,class:"container"},{start:_(()=>[u(I,{to:"/",class:"navbar-brand",prefetch:""},{default:_(()=>[u(J,{icon:["fas","glasses"]}),N[0]||(N[0]=S(" !wear "))]),_:1})]),item:_(({item:g,props:C,hasSubmenu:R,root:T})=>[g.route?(d(),y(I,P({key:0,to:g.route,class:"d-flex align-items-center"},C.action,{prefetch:""}),{default:_(()=>[c("span",null,x(g.label),1)]),_:2},1040,["to"])):(d(),h("a",ce(P({key:1},C.action)),[c("span",null,x(g.label),1),R?(d(),h("i",{key:0,class:U(["pi pi-angle-down ml-auto",{"pi-angle-down":T,"pi-angle-right":!T}])},null,2)):W("",!0)],16))]),end:_(()=>[c("div",wt,[u(I,{to:"/cart",prefetch:""},{default:_(()=>[b.value?(d(),y(ee,{key:0,severity:"danger"},{default:_(()=>[u(B,{type:"button",icon:"pi pi-shopping-cart",severity:"contrast",variant:"text",rounded:""})]),_:1})):(d(),y(B,{key:1,type:"button",icon:"pi pi-shopping-cart",severity:"contrast",variant:"text",rounded:""}))]),_:1}),u(B,{type:"button",icon:"pi pi-ellipsis-v","aria-haspopup":"true","aria-controls":"overlay_menu",severity:"contrast",variant:"text",rounded:"",class:"otherMenusBtn",onClick:D}),u(oe,{id:"overlay_menu",ref_key:"otherMenusDom",ref:i,model:l.value,popup:!0},{item:_(({item:g,props:C})=>[g.route?(d(),y(I,{key:0,to:g.route,custom:"",prefetch:""},{default:_(({href:R,navigate:T})=>[c("a",P({href:R},C.action,{onClick:T}),[c("span",$t,x(g.label),1),k.value&&g.label=="未完成的訂單"?(d(),y(te,{key:0,value:k.value,severity:"danger",size:"small"},null,8,["value"])):W("",!0)],16,Lt)]),_:2},1032,["to"])):(d(),h("a",P({key:1},C.action,{onClick:M}),[c("span",null,x(g.label),1),n.value=="淺色"?(d(),h("i",kt)):(d(),h("i",Ct))],16))]),_:1},8,["model"])])]),_:1},8,["model"])],2)}}},Ot=O(St,[["__scopeId","data-v-44e0a84e"]]),Et={},It={class:"bg-dark"},Tt={class:"container py-3"},Pt={class:"m-0 copyright text-center"},xt={class:"d-flex justify-content-center list-unstyled m-0"},At={href:"javascript:;",target:"_blank",class:"px-2"},Dt={href:"javascript:;",target:"_blank",class:"px-2"},Mt={href:"javascript:;",target:"_blank",class:"px-2"},Bt={href:"javascript:;",target:"_blank",class:"px-2"};function Rt(e,t){const o=m("router-link"),a=m("VIcon");return d(),h("footer",It,[c("div",Tt,[c("p",Pt,[t[1]||(t[1]=S(" © 2025 ")),u(o,{to:"/",prefetch:""},{default:_(()=>t[0]||(t[0]=[S("!wear")])),_:1}),t[2]||(t[2]=S(" All Rights Reserved ")),t[3]||(t[3]=c("br",null,null,-1)),t[4]||(t[4]=c("small",{class:"d-block py-1"},[S(" 僅做為練習使用，非商業用途. ｜ "),c("a",{href:"https://yunhsi.github.io/iwearCLI/#/admin/login",class:"small",target:"_blank"}," 登入後台 ")],-1))]),c("ul",xt,[c("li",null,[c("a",At,[u(a,{icon:["fab","square-facebook"]})])]),c("li",null,[c("a",Dt,[u(a,{icon:["fab","square-instagram"]})])]),c("li",null,[c("a",Mt,[u(a,{icon:["fab","square-threads"]})])]),c("li",null,[c("a",Bt,[u(a,{icon:["fab","line"]})])])])])])}const qt=O(Et,[["render",Rt],["__scopeId","data-v-6893c243"]]),Ft={__name:"GoTop",setup(e){const t=p(null);K(()=>{t.value=document.querySelector(".go-top"),window.addEventListener("scroll",o)}),X(()=>{window.removeEventListener("scroll",o)});const o=()=>{window.scrollY>200?t.value.classList.add("scrolled"):t.value.classList.remove("scrolled")},a=()=>{window.scrollTo(0,0)};return(n,r)=>{const s=m("VIcon");return d(),h("div",{class:"go-top text-secondary hvr-sink",onClick:a},[u(s,{icon:["fas","angle-up"],class:"text-center"}),r[0]||(r[0]=c("small",null,"TOP",-1))])}}},jt=O(Ft,[["__scopeId","data-v-c9161d16"]]),Nt={},zt={class:"spinWrapper"};function Ut(e,t){const o=m("VProgressSpinner");return d(),h("div",zt,[u(o,{fill:"transparent","animation-duration":".5s"})])}const Wt=O(Nt,[["render",Ut],["__scopeId","data-v-84eabaa5"]]),Gt={};function Ht(e,t){const o=m("VToast");return d(),y(o,{breakpoints:{"414px":{width:"100%",right:"0",left:"0"}}})}const Yt=O(Gt,[["render",Ht]]),Kt={"data-aos":"fade-zoom-in","data-aos-easing":"ease-in-sine","data-aos-duration":"500"},Xt={__name:"App",setup(e){const t=j(),o=ie(),a=Y(()=>o.path==="/"?"":"border-bottom");return(n,r)=>{const s=m("router-view");return d(),h(fe,null,[le(u(Wt,null,null,512),[[ue,de(t).isLoading]]),u(Yt),u(Ot,{"root-class":a.value},null,8,["root-class"]),u(s,null,{default:_(({Component:i})=>[(d(),y(pe,null,[c("div",Kt,[(d(),y(me(i)))])],1024))]),_:1}),u(qt),u(jt)],64)}}};function Qt(){_e.init({once:!1})}function Zt(e){e.use(Ae,{theme:{preset:De,options:{darkModeSelector:".dark-mode"}}}),e.use(Me),e.component("VButton",Be),e.component("VMenubar",Re),e.component("VOverlayBadge",qe),e.component("VBadge",Fe),e.component("VMenu",je),e.component("VCard",Ne),e.component("VTag",ze),e.component("VProgressSpinner",Ue),e.component("VToast",We),e.component("VInputText",Ge),e.component("VInputNumber",He),e.component("VInputGroup",Ye),e.component("VInputGroupAddon",Ke),e.component("VSelect",Xe),e.component("VBreadcrumb",Qe),e.component("VFloatLabel",Ze),e.component("VAccordion",Je),e.component("VAccordionPanel",et),e.component("VAccordionHeader",tt),e.component("VAccordionContent",ot)}$("required",ut);$("email",dt);$("min",mt);$("max",pt);$("numeric",ft);$("onlyChinese",e=>/^[\u4e00-\u9fa5]+$/.test(e)?!0:"請輸入中文");st({generateMessage:rt({zh_TW:lt}),validateOnInput:!0});nt("zh_TW");function Jt(e){e.component("VField",at),e.component("VForm",ct),e.component("ErrorMessage",it)}ge.add(he,ve,ye,be,Ve,we,Le,$e,ke,Ce);function eo(e){e.component("VIcon",Se)}const V=Oe(Xt),to=Ee();V.use(Q);V.use(Z);V.use(to);Qt();Zt(V);Jt(V);eo(V);V.mount("#app");export{O as _,L as a,j as b,vt as c,Vt as d,bt as u};
