import{r as t,w as I,c as P,b6 as X,z as j,W as x,X as a,ar as l,ae as n,ad as B,ah as N,ac as G,aK as S,ao as U,ap as J,aa as i,V as d}from"./vendor-hbc7ZpyS.js";import{u as Q}from"./vue-router-B-VbIHpu.js";import{u as Y,_ as Z}from"./useProductStore-BxtC5TZq.js";import{N as ee}from"./NoData-hDMbA7oi.js";import{B as ae}from"./Breadcrumb-kdOXMUXM.js";import{F as le}from"./Footer-B-IekEGI.js";import"./index-BLmSvNjp.js";import"./pinia-BUsbKMiz.js";import"./axios-DWwaMX5J.js";import"./primevue-DbMZqESr.js";import"./sweetalert2-BY1s0Tb6.js";import"./aos-BOscYbde.js";import"./vee-validate-C24gywMW.js";import"./fontawesome-Bt4LmCzt.js";/* empty css                  */const oe={style:{"padding-top":"70px","min-height":"calc(100vh - 104px)"},"data-aos":"fade-zoom-in","data-aos-easing":"ease-in-sine","data-aos-duration":"300","data-aos-delay":"300"},te={class:"container pt-4"},se={class:"row"},ne={class:"col-12"},ue={class:"row"},re={class:"col-md-6 pt-sm-3"},ie={class:"col-md-3 pt-3"},de={class:"col-md-3 pt-3"},ce={key:0,class:"row"},pe={class:"col-md-3 pt-3"},me={class:"col-md-3 pt-3"},ve={class:"col-md-3 pt-3"},fe={class:"col-md-3 pt-3"},_e={class:"row g-2 g-md-4 pb-5 mb-4"},Se={__name:"Products",setup(ye){const u=Q(),c=Y(),h=t(!1),V=t(),p=t(),A=t([{name:"價格（由高至低）",id:"1"},{name:"價格（由低至高）",id:"2"}]),m=t(),F=t([{name:"黑",id:"black"},{name:"棕",id:"brown"},{name:"銀",id:"silver"},{name:"金",id:"golden"},{name:"透明",id:"transparent"}]),v=t(),L=t([{name:"輕量樹脂"},{name:"鈦合金"}]),f=t(),$=t([{name:"圓框"},{name:"方型"},{name:"波士頓"},{name:"威靈頓"}]),r=t(),E=t([{name:"1000 ~ 2000",min:"1000",max:"2000"},{name:"2000 ~ 3000",min:"2000",max:"3000"},{name:"3000 ~ 4000",min:"3000",max:"4000"},{name:"4000 ~ 5000",min:"4000",max:"5000"},{name:"5000 ~ 6000",min:"5000",max:"6000"}]),_=t(),y=t(0);[m,v,f,r].forEach(s=>I(s,(e,k)=>{!k&&e&&(y.value=y.value+1),!e&&k&&(y.value=y.value-1)}));const M={glasses:"光學眼鏡",sunglasses:"太陽眼鏡"},z={hot:"熱門推薦",onsale:"優惠活動"},C=P(()=>[{label:z[u.query.event]||M[u.query.category]||"全部商品"}]);X({title:P(()=>`${C.value[0].label}｜!WEAR`)});const b=t([]),O=async()=>{await c.getAllProducts(),q(),h.value=!0},q=()=>{if(!u.query.category&&!u.query.event){b.value=c.allProductsData;return}switch(u.query.category){case"glasses":b.value=c.glassesProducts;break;case"sunglasses":b.value=c.sunGlassesProducts;break}switch(u.query.event){case"hot":b.value=c.recommendationProducts;break;case"onsale":b.value=c.saleProducts;break}};j(O);const T=P(()=>b.value.filter(s=>!(V.value&&!s.title.toLowerCase().includes(V.value.toLowerCase())||m.value&&s.title.split(" ")[0]!==m.value.id||v.value&&s.content!==v.value.name||f.value&&s.description!==f.value.name||r.value&&(s.price<r.value.min||s.price>r.value.max))).sort((s,e)=>p.value?p.value.id==="2"?s.price-e.price:p.value.id==="1"?e.price-s.price:0:0)),R=()=>{V.value=null,p.value=null,m.value=null,v.value=null,f.value=null,r.value=null,_.value=!1};return I(()=>u.query,()=>{R(),q()}),(s,e)=>{const k=i("VInputGroupAddon"),W=i("VInputText"),H=i("VInputGroup"),w=i("VSelect"),g=i("VFloatLabel"),D=i("VButton"),K=i("VOverlayBadge");return d(),x(U,null,[a("main",oe,[a("div",te,[a("div",se,[a("div",ne,[l(ae,{items:C.value},null,8,["items"])])]),a("div",ue,[a("div",re,[l(H,null,{default:n(()=>[l(k,null,{default:n(()=>e[8]||(e[8]=[a("i",{class:"pi pi-search"},null,-1)])),_:1}),l(W,{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=o=>V.value=o),placeholder:"商品名稱"},null,8,["modelValue"])]),_:1})]),a("div",ie,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=o=>p.value=o),"input-id":"sort_label",options:A.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[9]||(e[9]=a("label",{for:"sort_label"},"排序方式",-1))]),_:1})]),a("div",de,[y.value?(d(),B(K,{key:0,value:y.value,severity:"danger"},{default:n(()=>[l(D,{icon:"pi pi-sliders-h",label:"進階篩選",severity:"secondary",variant:"outlined",class:"w-100",onClick:e[2]||(e[2]=o=>_.value=!_.value)})]),_:1},8,["value"])):(d(),B(D,{key:1,icon:"pi pi-sliders-h",label:"進階篩選",severity:"secondary",variant:"outlined",class:"w-100",onClick:e[3]||(e[3]=o=>_.value=!_.value)}))])]),_.value?(d(),x("div",ce,[a("div",pe,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=o=>m.value=o),"input-id":"color_label",options:F.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[10]||(e[10]=a("label",{for:"color_label"},"鏡框顏色",-1))]),_:1})]),a("div",me,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=o=>v.value=o),"input-id":"material_label",options:L.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[11]||(e[11]=a("label",{for:"material_label"},"鏡框材質",-1))]),_:1})]),a("div",ve,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:f.value,"onUpdate:modelValue":e[6]||(e[6]=o=>f.value=o),"input-id":"shape_label",options:$.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[12]||(e[12]=a("label",{for:"shape_label"},"框形",-1))]),_:1})]),a("div",fe,[l(g,{class:"w-100",variant:"on"},{default:n(()=>[l(w,{modelValue:r.value,"onUpdate:modelValue":e[7]||(e[7]=o=>r.value=o),"input-id":"price_label",options:E.value,"option-label":"name",class:"w-100","show-clear":""},null,8,["modelValue","options"]),e[13]||(e[13]=a("label",{for:"price_label"},"價格",-1))]),_:1})])])):N("",!0),G(a("div",_e,[(d(!0),x(U,null,J(T.value,o=>(d(),x("div",{key:o.id,class:"col-12 col-md-6 col-lg-4 col-xl-3"},[l(Z,{product:o,"root-class":"mx-0"},null,8,["product"])]))),128))],512),[[S,h.value&&T.value.length]]),G(l(ee,null,null,512),[[S,h.value&&!T.value.length]])])]),h.value?(d(),B(le,{key:0})):N("",!0)],64)}}};export{Se as default};
